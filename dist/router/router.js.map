{"version":3,"sources":["../../router/router.js"],"names":["fs","require","render","page","Promise","resolve","reject","viewUrl","readFile","err","data","router","url","view","html","module","exports"],"mappings":";;;;AAAA;;;AAGA,IAAMA,KAAKC,QAAQ,IAAR,CAAX;;AAEA,IAAMC,SAAS,SAATA,MAAS,CAACC,IAAD,EAAU;AACrB,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,YAAIC,sBAAoBJ,IAAxB;AACAH,WAAGQ,QAAH,CAAYD,OAAZ,EAAqB,QAArB,EAA+B,UAACE,GAAD,EAAMC,IAAN,EAAe;AAC1C,gBAAID,GAAJ,EAAS;AACLH,uBAAOG,GAAP;AACH,aAFD,MAEO;AACHJ,wBAAQK,IAAR;AACH;AACJ,SAND;AAOH,KATM,CAAP;AAUH,CAXD;;AAaA,IAAMC;AAAA,uEAAS,iBAAMC,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACPC,4BADO,GACA,YADA;AAAA,sCAEHD,GAFG;AAAA,wDAGF,GAHE,uBAMF,QANE,uBASF,OATE,uBAYF,MAZE,wBAeF,QAfE;AAAA;;AAAA;AAIPC,+BAAO,YAAP;AAJO;;AAAA;AAOHA,+BAAO,YAAP;AAPG;;AAAA;AAUHA,+BAAO,WAAP;AAVG;;AAAA;AAaHA,+BAAO,UAAP;AAbG;;AAAA;AAgBHA,+BAAK,YAAL;;AAhBG;AAAA;;AAAA;AAAA;AAAA,+BAoBMX,OAAOW,IAAP,CApBN;;AAAA;AAoBPC,4BApBO;AAAA,yDAqBJA,IArBI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAT;;AAAA;AAAA;AAAA;AAAA,GAAN;;AAwBAC,OAAOC,OAAP,GAAeL,MAAf","file":"router.js","sourcesContent":["/**\r\n * Created by AllenFeng on 2017/8/21.\r\n */\r\nconst fs = require('fs')\r\n\r\nconst render = (page) => {\r\n    return new Promise((resolve, reject) => {\r\n        let viewUrl = `./view/${page}`\r\n        fs.readFile(viewUrl, \"binary\", (err, data) => {\r\n            if (err) {\r\n                reject(err)\r\n            } else {\r\n                resolve(data)\r\n            }\r\n        })\r\n    })\r\n}\r\n\r\nconst router = async(url) => {\r\n    let view = 'index.html'\r\n    switch (url) {\r\n        case '/':\r\n        view = 'index.html'\r\n        break\r\n        case '/index':\r\n            view = 'index.html'\r\n            break\r\n        case '/todo':\r\n            view = 'todo.html'\r\n            break\r\n        case '/404':\r\n            view = '404.html'\r\n            break\r\n        case \"/model\":\r\n            view='model.json'\r\n        default:\r\n            break\r\n    }\r\n    let html = await render(view)\r\n    return html\r\n}\r\n\r\nmodule.exports=router;"]}